# SOC Environment with Atomic Red Team: Threat Simulation and Detection Using Splunk and Trend Micro

## Project Overview

This project focuses on integrating **Atomic Red Team** into a SOC environment. The goal is to simulate adversary techniques using Atomic Red Team on a **Windows machine**, detect and monitor these events through **Splunk Enterprise** (running on a Linux machine), and view the same data in **Trend Micro Vision One**. The **Trend Micro Agent** is installed on the Windows machine, and all events are forwarded to Splunk for further analysis.

## Project Components

- **Windows 10 Machine**: 
  - Atomic Red Team is installed and executed to simulate various attacks.
  - Trend Micro Vision One Agent is installed to monitor and send security-related data to the Vision One console.
  
- **Splunk Enterprise (Linux)**:
  - Installed on a Linux machine to collect, analyze, and monitor the logs.
  - Integrated with Trend Micro to receive and correlate security events.

- **Trend Micro Vision One**:
  - The agent on Windows sends data to Trend Micro Vision One console.
  - Events generated by Atomic Red Team are monitored here and correlated with Splunk.

## Steps for Atomic Red Team Installation and Execution

### 1. Import Atomic Red Team on Windows
  - Clone the Atomic Red Team repository:
    ```bash
    git clone https://github.com/redcanaryco/atomic-red-team.git
    ```
  - Navigate to the directory:
    ```bash
    cd atomic-red-team/atomics
    ```
  - You can now review available tests by listing the YAML files in the directory. Each YAML file represents a test that you can run to simulate a specific attack.

### 2. Install PowerShell Execution Framework
  - Download and install the Atomic Red Team's PowerShell execution framework:
    ```bash
    Install-Module -Name PowerShellForGitHub -Force
    ```
  - Load the Atomic Red Team tests:
    ```bash
    Import-Module .\Invoke-AtomicTest.ps1
    ```

### 3. Running Atomic Tests
  - Run a specific attack simulation by its technique number:
    ```bash
    Invoke-AtomicTest T1003
    ```
    This will simulate a credential dumping technique. You can monitor the results in Splunk and Trend Micro.

## Data Flow and Monitoring

- **Splunk Enterprise** (Linux) collects logs forwarded from the Windows machine using Splunk Forwarder and Trend Micro Agent.
- **Trend Micro Vision One** detects and monitors the same activity on its console.

## Screenshots

Screenshots are attached to this repository to show:
1. Atomic Red Team tests running on the Windows machine.
2. Detected events in **Splunk Enterprise**.
3. Corresponding alerts in **Trend Micro Vision One**.

